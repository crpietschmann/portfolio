<div class="mb-3">
    <!-- ADSENSE-->
    <!--
    <center>
        <div data-type="ad" data-publisher="lqm.pietschsoft.site" data-zone="ron" data-format="300x250"></div>
    </center>
    -->
    <!--
    <div class="mb-3">
    <a href="https://build5nines.com" alt="Build5Nines.com - Cloud &amp; Enterprise Technology"><img src="https://build5nines.com/wp-content/uploads/2019/07/Build_Azure_Banner_Ad_300x250_1.png" alt="Build5Nines.com - Cloud &amp; Enterprise Technology"/></a>
    </div>
    -->

    <!-- https://blog.webjeda.com/jekyll-related-posts/#whats-wrong-with-jekyll-related_posts -->
    <div class="recent">
    <h4>Recent Posts</h4>
    <ul class="list-unstyled">
        {% for post in site.related_posts limit:5 %}
        <li class="mb-3">
            <h6 class="mb-0"><a href="{{ post.url }}">{{ post.title }}</a></h6>
            <span class="small text-muted">{{ post.date | date_to_string }}</span>
        </li>
        {% endfor %}
    </ul>
    </div>

    <div class="related">
    {% include related_posts.html htag="h4" ul_class="list-unstyled" %}
    </div>

    <div class="recent">
        <h4>Recent on Build5Nines.com</h4>
        {% for post in site.data.latest_posts_build5nines limit:3 %}
        <div class="card" style="width: 18rem; margin:0.5em;">
          <a href="{{ post.link }}"><img src="{{ post.jetpack_featured_media_url }}" class="card-img-top" alt="{{ post.title.rendered }}"></a>
          <div class="card-body">
            <h5 class="card-title"><a href="{{ post.link }}">{{ post.title.rendered}}</a></h5>
            <h6 class="card-subtitle mb-2 text-muted">{{ post.date | date: "%b %-d, %Y" }}</h6>
            <!--
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
            -->
            <a href="{{ post.link }}" class="card-link btn btn-primary">Read it</a>
          </div>
        </div>
        {% endfor %}
    </div>

    <div class="courses">
        <h4>Courses</h4>
        {% for post in site.data.learn_build5nines_courses limit:3 %}
          <div class="card" style="width: 18rem; margin:0.5em;">
            <a href="{{ post.link }}"><img src="https://i0.wp.com/build5nines.com/wp-content/uploads/2023/01/Build5Nines_Featured_Image.jpg?ssl=1" data-course-featured-media="{{ post.featured_media }}" class="card-img-top" alt="{{ post.title.rendered }}"></a>
            <div class="card-body">
              <h5 class="card-title"><a href="{{ post.link }}">{{ post.title.rendered}}</a></h5>
              <h6 class="card-subtitle mb-2 text-muted">{{ post.course_price_type }}</h6>
              <!--
              <h6 class="card-subtitle mb-2 text-muted">{{ post.date | date: "%b %-d, %Y" }}</h6>
              <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
              -->
              <a href="{{ post.link }}" class="card-link btn btn-primary">Take Course</a>
            </div>
          </div>
        {% endfor %}
        <p><a href="https://learn.build5nines.com">View all courses...</a></p>
        <script>
            document.querySelectorAll('img[data-course-featured-media]').forEach((elem, i) => {
            fetch(`https://learn.build5nines.com/wp-json/wp/v2/media/${elem.getAttribute('data-course-featured-media')}?_fields=source_url`).
                then((response) => {
                    if (response.ok) {
                        return response.json()
                    }
                }).
                then((data) => {
                elem.setAttribute('src', data.source_url);
                });
            });
        </script>
    </div>
    
    <div id="fixedadmarker"></div>
    <div id="fixedad" class="mt-3">
        <!-- ADSENSE -->
        <!--
        <div data-type="ad" data-publisher="lqm.pietschsoft.site" data-zone="ron" data-format="160x600"></div>
        -->
    </div>
    <style>
    @media (min-width: 768px) {
        .fixedad-float {
            position: fixed;
            top: 2.5em;
        }
    }
    </style>
    <script>
    window.setInterval(function() {
        var elem = $('#fixedadmarker'),
            top = elem.offset().top || 0,
            height = elem[0].offsetHeight || 0,
            bottom = top + height,
            scrollY = window.scrollY || 0,
            elemToBeFixed = $('#fixedad');
        if (scrollY >= bottom) {
            elemToBeFixed.addClass('fixedad-float');
        } else {
            elemToBeFixed.removeClass('fixedad-float');
        }
    }, 100);
    </script>
</div>
