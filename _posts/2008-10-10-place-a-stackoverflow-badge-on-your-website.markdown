---
layout: post
title: "Place a StackOverflow badge on your website"
date: 2008-10-10 07:09:00 -0500
comments: true
published: true
categories: ["blog", "archives"]
tags: ["asp.net"]
redirect_from: 
  - /post/2008/10/10/Place-a-StackOverflow-badge-on-your-website
 -  /post/2008/10/10/place-a-stackoverflow-badge-on-your-website
---
<!-- more -->
<p><strong>Update:</strong> StackOverflow.com has since added the ability to include <a href="http://stackoverflow.com/users/flair">StackOverflow "Flair"</a> on your own website; basically a "badge" that contains your StackOverflow.com Name, Avatar, Score and Medal counts within a nice little box. I'm not sure when they added it, but now it's officially supported.</p>
<p>
<script src="http://stackoverflow.com/users/flair/7831.js?theme=default" type="text/javascript"></script>
</p>
<p><a href="http://stackoverflow.com/users/flair">http://stackoverflow.com/users/flair</a></p>
<p>And, for reference, my original StackOverflow Badge code is still below:</p>
<hr />
<p>I was thinking it would be cool if you could place a StackOverflow "badge" on your website or blog showing your current Reputation score with a link to your profile. So I look into it, and it actually wasn't that difficult to "scrape" the information off the StackOverflow.com website.</p>
<p><em>Disclaimer: I didn't see any terms of use on the site prohibiting this, but it very well may be against the terms of use. Use at your own risk.</em></p>
<p>Well, here's a small ASP.NET User Control that does it:</p>
<p><img src="/images/postsStackOverflowBadge.png" alt="" width="193" height="52" /></p>
<p>And here's the usage code for putting your badge on your site:</p>
<p>[ code:html ]</p>
<p>&lt;%@ Register Src="~/StackOverflowBadge.ascx" TagPrefix="StackOverflow" TagName="Badge" %&gt; <br /> <br /> &lt;style type="text/css"&gt;<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge {border: solid 1px black; padding: 2px;}<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .user-info .user-gravatar32{float: left; width: 32px;}<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .user-info .user-gravatar32 img{border: none;}<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .user-info .user-details{<br /> &nbsp;&nbsp;&nbsp; &nbsp;float: left; margin-left: 5px; width: 138px; overflow: hidden; white-space: nowrap;<br /> &nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .user-details{color: #888; line-height:17px;}<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .reputation-score{font-weight: bold; color: #333; font-size: 120%; margin-right:2px;}<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .badge{<br /> &nbsp;&nbsp;&nbsp; &nbsp;color: #fff; background-color: #333; border: 1px solid #333; margin: 0 3px 3px 0;<br /> &nbsp;&nbsp;&nbsp; &nbsp;padding: 4px 8px 4px 3px; color: white !important; text-decoration: none; line-height: 1.9;<br /> &nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .badge:hover{border: 1px solid #555;background-color: #555;text-decoration: none;}<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .badge1{margin-left:3px;font-size: 120%;color: #FFCC00;}<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .badge2{margin-left:3px;font-size: 120%;color: #C0C0C0;}<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .badge3{margin-left:3px;font-size: 120%;color: #CC9966;}<br /> &nbsp;&nbsp;&nbsp; .stackoverflow-badge .badgecount{padding-left: 1px; color: #808185;}<br /> &lt;/style&gt;<br /> <br /> &lt;StackOverflow:Badge runat="server" id="sob1" DisplayName="Chris Pietschmann"&gt;&lt;/StackOverflow:Badge&gt;</p>
<p>[/ code ]</p>
<p>See pretty simple to use, just make sure you put the CSS in your site so it's styled appropriately.</p>
<p>And finally, here's the source for the StackOverflowBadge.ascx user control:</p>
<p><strong>StackOverflowBadge.ascx:</strong></p>
<p>[ code:html ]</p>
<p>&lt;%@ Control Language="C#" AutoEventWireup="true" CodeFile="StackOverflowBadge.ascx.cs" Inherits="StackOverflowBadge" %&gt;<br /> &lt;%=this.HTML%&gt;</p>
<p>[/ code ]</p>
<p><strong>StackOverflowBadge.ascx.cs:</strong></p>
<p>[code:c#]</p>
<p>using System;<br /> using System.IO;<br /> using System.Net;<br /> using System.Text;</p>
<p>public partial class StackOverflowBadge : System.Web.UI.UserControl<br /> {<br /> &nbsp;&nbsp;&nbsp; protected void Page_Load(object sender, EventArgs e)<br /> &nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GetStackOverflowData();<br /> &nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; public string DisplayName { get; set; }<br /> &nbsp;&nbsp;&nbsp; public string Reputation { get; set; }<br /> &nbsp;&nbsp;&nbsp; public string UserID { get; set; }<br /> &nbsp;&nbsp;&nbsp; public string ImageURL { get; set; }<br /> &nbsp;&nbsp;&nbsp; public string HTML { get; set; }</p>
<p>&nbsp;&nbsp;&nbsp; protected void GetStackOverflowData()<br /> &nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string username = this.DisplayName;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; username = username.ToLowerInvariant();</p>
<p><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WebRequest r = WebRequest.Create("http://stackoverflow.com/users/browser-filter");<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ((HttpWebRequest)r).UserAgent = "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; WOW64; SLCC1; .NET CLR 2.0.50727; Media Center PC 5.0;)";<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r.Method = "POST";</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Byte[] byteArray = Encoding.ASCII.GetBytes("filter=" + username);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r.ContentType = "application/x-www-form-urlencoded";<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r.ContentLength = byteArray.Length;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Stream requestStream = r.GetRequestStream();<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; requestStream.Write(byteArray, 0, byteArray.Length);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; requestStream.Close();</p>
<p><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WebResponse resp = r.GetResponse();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StreamReader reader = new StreamReader(resp.GetResponseStream());</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string responseContent = reader.ReadToEnd();</p>
<p><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Fix username to look for in HTML returned<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; username = username.Replace(" ", "-");</p>
<p><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Get UserID<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string userid = null;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (responseContent.IndexOf("&lt;a href=\"/users/") &gt; 0)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string tempUserID = responseContent.Substring(responseContent.IndexOf("&lt;a href=\"/users/"));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (tempUserID.Length &gt; 16)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tempUserID = tempUserID.Substring(16);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (tempUserID.IndexOf("/" + username) &gt; 0)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; userid = tempUserID.Substring(0, tempUserID.IndexOf("/" + username));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.UserID = userid;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Get Reputation Score<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string rep = null;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (responseContent.IndexOf("title=\"reputation score\"&gt;") &gt; 0)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string tempRep = responseContent.Substring(responseContent.IndexOf("title=\"reputation score\"&gt;"));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (tempRep.Length &gt; 25)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tempRep = tempRep.Substring(25);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (tempRep.IndexOf("&lt;/span&gt;") &gt; 0)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rep = tempRep.Substring(0, tempRep.IndexOf("&lt;/span&gt;"));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.Reputation = rep;</p>
<p><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Get Image URL<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string img = null;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (responseContent.IndexOf("\"&gt;&lt;img src=\"") &gt; 0)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string tempImg = responseContent.Substring(responseContent.IndexOf("\"&gt;&lt;img src=\""));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (tempImg.Length &gt; 12)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tempImg = tempImg.Substring(12);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (tempImg.IndexOf("\" height=32 width=32 /&gt;") &gt; 0)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; img = tempImg.Substring(0, tempImg.IndexOf("\" height=32 width=32 /&gt;"));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.ImageURL = img;</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Get Full Html for Display<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string html = null;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (responseContent.IndexOf("; width:860px;\"&gt;") &gt; 0)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string tempHtml = responseContent.Substring(responseContent.IndexOf("; width:860px;\"&gt;"));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (tempHtml.Length &gt; 16)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tempHtml = tempHtml.Substring(16);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (tempHtml.IndexOf("&lt;div style=\"float:") &gt; 0)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; html = tempHtml.Substring(0, tempHtml.IndexOf("&lt;div style=\"float:"));<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; html = html.Replace("&lt;a href=\"/users", "&lt;a href=\"<a href="http://stackoverflow.com/users">http://stackoverflow.com/users</a>");<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; html = html.Replace("&lt;table style=\"margin: 0px 5px 5px;\"&gt;", "&lt;table cellpadding='0' cellspacing='0' class=\"stackoverflow-badge\"&gt;");<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; html = html.Replace("&lt;div class=\"user-action-time\"&gt;&lt;br /&gt;&lt;/div&gt;", "");<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; html = html.Replace("&lt;td width=200&gt;", "&lt;td&gt;");<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.HTML = html;<br /> &nbsp;&nbsp;&nbsp; }</p>
<p>}</p>
<p>[/code]</p>
